### **关于函数返回值的规范**

#### **1. 不通过返回值判断函数运行的正确性，而是通过抛异常的方式 【建议】**

**理由**：
- 返回值用来传递函数执行的结果，而不是用于检查执行的正确性。
- 通过异常处理能够更加明确地表达错误状态，同时也有利于代码的逻辑分离。

**示例**：

```python
# 正确方式：使用异常处理
def divide(a, b):
    """
    执行除法运算，若除数为 0 抛出异常。

    参数:
    a (float): 被除数。
    b (float): 除数。

    返回:
    float: 结果。
    """
    if b == 0:
        raise ValueError("除数不能为 0")
    return a / b

try:
    result = divide(10, 0)
except ValueError as e:
    print(f"错误: {e}")
```

**错误示例**：
```python
# 错误方式：通过返回值判断运行正确性
def divide(a, b):
    if b == 0:
        return None  # 返回值指示错误
    return a / b

result = divide(10, 0)
if result is None:
    print("错误: 除数不能为 0")
```

---

#### **2. 函数返回值必须小于等于 3 个，超过 3 个时通过具名形式包装 【强制】**

**理由**：
- 返回值过多会导致调用代码难以理解和维护。
- 使用 `class`、`namedtuple` 或 `dict` 等具名形式，可以提高代码的可读性和扩展性。

---

**示例 1：返回值小于等于 3 个**

```python
# 正确方式
def get_user_info(user_id):
    """
    获取用户的基本信息。

    参数:
    user_id (int): 用户ID。

    返回:
    tuple: 包含用户名、年龄、邮箱的元组。
    """
    username = "Alice"
    age = 30
    email = "alice@example.com"
    return username, age, email

username, age, email = get_user_info(1)
```

---

**示例 2：返回值超过 3 个，使用具名形式**

**使用 `namedtuple`**：
```python
from collections import namedtuple

UserInfo = namedtuple("UserInfo", ["username", "age", "email", "phone"])

def get_user_info(user_id):
    """
    获取用户的详细信息。

    参数:
    user_id (int): 用户ID。

    返回:
    UserInfo: 包含用户信息的具名元组。
    """
    return UserInfo("Alice", 30, "alice@example.com", "123-456-7890")

user_info = get_user_info(1)
print(user_info.username, user_info.email)
```

**使用 `dict`**：
```python
def get_user_info(user_id):
    """
    获取用户的详细信息。

    参数:
    user_id (int): 用户ID。

    返回:
    dict: 包含用户信息的字典。
    """
    return {
        "username": "Alice",
        "age": 30,
        "email": "alice@example.com",
        "phone": "123-456-7890"
    }

user_info = get_user_info(1)
print(user_info["username"], user_info["email"])
```

**使用 `class`**：
```python
class UserInfo:
    def __init__(self, username, age, email, phone):
        self.username = username
        self.age = age
        self.email = email
        self.phone = phone

def get_user_info(user_id):
    """
    获取用户的详细信息。

    参数:
    user_id (int): 用户ID。

    返回:
    UserInfo: 包含用户信息的类实例。
    """
    return UserInfo("Alice", 30, "alice@example.com", "123-456-7890")

user_info = get_user_info(1)
print(user_info.username, user_info.email)
```

---

### **总结规范**

| **规则**                                           | **解释**                                                                 |
|----------------------------------------------------|--------------------------------------------------------------------------|
| **返回值不用于运行正确性的判断**                   | 使用异常来捕获错误，而非通过特殊返回值（如 `None`）来检查函数是否成功运行。 |
| **返回值数量限制为 3 个以下**                       | 超过 3 个时，通过 `class`、`namedtuple` 或 `dict` 等具名形式进行封装。      |

通过这些规范，可以让代码更具可读性和健壮性，同时便于维护和扩展。